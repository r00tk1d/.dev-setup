% kubectl

# List pods
kubectl get pods

# List services
kubectl get svc

# List all resources in all namespaces
kubectl get all -A

# Get pod infos
kubectl get pod <pod_name> -o yaml

# Connect to a pod
kubectl exec -it <pod_name> -- bash

# Get endpoints of a service
kubectl get endpoints <svc_name>

# Information about a service
kubectl describe svc <svc_name>

# Portforward to a pod
kubectl port-forward pod/<pod_name> <local_port>:<pod_port>

# Show all active port forwards:
kubectl get svc -o json | jq '.items[] | {name:.metadata.name, p:.spec.ports[] } | select( .p.nodePort != null ) | "\(.name): localhost:\(.p.nodePort) -> \(.p.port) -> \(.p.targetPort)"'

# Delete all Pods with Status Failed/Error
kubectl delete $(kubectl get pods --field-selector=status.phase=Failed -o name)


$ pod_name: kubectl get pods | awk '{print $1}'
$ svc_name: kubectl get svc | awk '{print $1}'
